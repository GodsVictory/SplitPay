import{Q as Ye,a as Vt,v as yt,b as Mt,g as Ee,u as Et,c as $t,d as te}from"./QBtn.389ae8b0.js";import{c as w,w as j,o as ke,b as ue,i as At,g as ee,A as Bt,r as P,B as Rt,C as Ke,D as Ft,E as xt,j as le,F as Qe,G as Tt,f as Pt,h as M,H as be,T as ze,I as Lt,J as re,K as Ge,L as et,M as tt,m as Ot,N as Dt,d as de,O as Ht,P as wt,y as _t,q as X,s as zt,t as I,u as q,Q as he,R as V,S as Ie,U as Y,V as G,W as It,X as Nt,Y as oe,Z as Ut,$ as jt}from"./index.d2b12e37.js";import{h as se,c as pe,d as Kt,e as Qt}from"./dom.fd9e6c44.js";import{b as Wt,a as Zt,h as Jt}from"./scroll.b2deac58.js";const We={dark:{type:Boolean,default:null}};function Ze(e,t){return w(()=>e.dark===null?t.dark.isActive:e.dark)}function Xt({validate:e,resetValidation:t,requiresQForm:o}){const n=At(Bt,!1);if(n!==!1){const{props:l,proxy:f}=ee();Object.assign(f,{validate:e,resetValidation:t}),j(()=>l.disable,i=>{i===!0?(typeof t=="function"&&t(),n.unbindComponent(f)):n.bindComponent(f)}),ke(()=>{l.disable!==!0&&n.bindComponent(f)}),ue(()=>{l.disable!==!0&&n.unbindComponent(f)})}else o===!0&&console.error("Parent QForm not found on useFormChild()!")}const lt=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,ot=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,nt=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,qe=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,Ce=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Te={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>lt.test(e),hexaColor:e=>ot.test(e),hexOrHexaColor:e=>nt.test(e),rgbColor:e=>qe.test(e),rgbaColor:e=>Ce.test(e),rgbOrRgbaColor:e=>qe.test(e)||Ce.test(e),hexOrRgbColor:e=>lt.test(e)||qe.test(e),hexaOrRgbaColor:e=>ot.test(e)||Ce.test(e),anyColor:e=>nt.test(e)||qe.test(e)||Ce.test(e)},Yt=[!0,!1,"ondemand"],Gt={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>Yt.includes(e)}};function el(e,t){const{props:o,proxy:n}=ee(),l=P(!1),f=P(null),i=P(null);Xt({validate:F,resetValidation:B});let m=0,x;const E=w(()=>o.rules!==void 0&&o.rules!==null&&o.rules.length>0),_=w(()=>o.disable!==!0&&E.value===!0),S=w(()=>o.error===!0||l.value===!0),N=w(()=>typeof o.errorMessage=="string"&&o.errorMessage.length>0?o.errorMessage:f.value);j(()=>o.modelValue,()=>{L()}),j(()=>o.reactiveRules,D=>{D===!0?x===void 0&&(x=j(()=>o.rules,()=>{L(!0)})):x!==void 0&&(x(),x=void 0)},{immediate:!0}),j(e,D=>{D===!0?i.value===null&&(i.value=!1):i.value===!1&&(i.value=!0,_.value===!0&&o.lazyRules!=="ondemand"&&t.value===!1&&A())});function B(){m++,t.value=!1,i.value=null,l.value=!1,f.value=null,A.cancel()}function F(D=o.modelValue){if(_.value!==!0)return!0;const p=++m,k=t.value!==!0?()=>{i.value=!0}:()=>{},b=(a,u)=>{a===!0&&k(),l.value=a,f.value=u||null,t.value=!1},d=[];for(let a=0;a<o.rules.length;a++){const u=o.rules[a];let c;if(typeof u=="function"?c=u(D,Te):typeof u=="string"&&Te[u]!==void 0&&(c=Te[u](D)),c===!1||typeof c=="string")return b(!0,c),!1;c!==!0&&c!==void 0&&d.push(c)}return d.length===0?(b(!1),!0):(t.value=!0,Promise.all(d).then(a=>{if(a===void 0||Array.isArray(a)===!1||a.length===0)return p===m&&b(!1),!0;const u=a.find(c=>c===!1||typeof c=="string");return p===m&&b(u!==void 0,u),u===void 0},a=>(p===m&&(console.error(a),b(!0)),!1)))}function L(D){_.value===!0&&o.lazyRules!=="ondemand"&&(i.value===!0||o.lazyRules!==!0&&D!==!0)&&A()}const A=Rt(F,0);return ue(()=>{x!==void 0&&x(),A.cancel()}),Object.assign(n,{resetValidation:B,validate:F}),Ke(n,"hasError",()=>S.value),{isDirtyModel:i,hasRules:E,hasError:S,errorMessage:N,validate:F,resetValidation:B}}const at=/^on[A-Z]/;function tl(e,t){const o={listeners:P({}),attributes:P({})};function n(){const l={},f={};for(const i in e)i!=="class"&&i!=="style"&&at.test(i)===!1&&(l[i]=e[i]);for(const i in t.props)at.test(i)===!0&&(f[i]=t.props[i]);o.attributes.value=l,o.listeners.value=f}return Ft(n),n(),o}let Pe,Se=0;const W=new Array(256);for(let e=0;e<256;e++)W[e]=(e+256).toString(16).substring(1);const ll=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const o=new Uint8Array(t);return e.getRandomValues(o),o}}return t=>{const o=[];for(let n=t;n>0;n--)o.push(Math.floor(Math.random()*256));return o}})(),rt=4096;function ol(){(Pe===void 0||Se+16>rt)&&(Se=0,Pe=ll(rt));const e=Array.prototype.slice.call(Pe,Se,Se+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,W[e[0]]+W[e[1]]+W[e[2]]+W[e[3]]+"-"+W[e[4]]+W[e[5]]+"-"+W[e[6]]+W[e[7]]+"-"+W[e[8]]+W[e[9]]+"-"+W[e[10]]+W[e[11]]+W[e[12]]+W[e[13]]+W[e[14]]+W[e[15]]}let ce=[],_e=[];function kt(e){_e=_e.filter(t=>t!==e)}function nl(e){kt(e),_e.push(e)}function it(e){kt(e),_e.length===0&&ce.length>0&&(ce[ce.length-1](),ce=[])}function Je(e){_e.length===0?e():ce.push(e)}function al(e){ce=ce.filter(t=>t!==e)}function Ne(e){return e===void 0?`f_${ol()}`:e}function Ue(e){return e!=null&&(""+e).length>0}const rl={...We,...Gt,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},il=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function sl(){const{props:e,attrs:t,proxy:o,vnode:n}=ee();return{isDark:Ze(e,o.$q),editable:w(()=>e.disable!==!0&&e.readonly!==!0),innerLoading:P(!1),focused:P(!1),hasPopupOpen:!1,splitAttrs:tl(t,n),targetUid:P(Ne(e.for)),rootRef:P(null),targetRef:P(null),controlRef:P(null)}}function ul(e){const{props:t,emit:o,slots:n,attrs:l,proxy:f}=ee(),{$q:i}=f;let m;e.hasValue===void 0&&(e.hasValue=w(()=>Ue(t.modelValue))),e.emitValue===void 0&&(e.emitValue=s=>{o("update:modelValue",s)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:r,onFocusout:g}),Object.assign(e,{clearValue:h,onControlFocusin:r,onControlFocusout:g,focus:u}),e.computedCounter===void 0&&(e.computedCounter=w(()=>{if(t.counter!==!1){const s=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,y=t.maxlength!==void 0?t.maxlength:t.maxValues;return s+(y!==void 0?" / "+y:"")}}));const{isDirtyModel:x,hasRules:E,hasError:_,errorMessage:S,resetValidation:N}=el(e.focused,e.innerLoading),B=e.floatingLabel!==void 0?w(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):w(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),F=w(()=>t.bottomSlots===!0||t.hint!==void 0||E.value===!0||t.counter===!0||t.error!==null),L=w(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),A=w(()=>`q-field row no-wrap items-start q-field--${L.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(B.value===!0?" q-field--float":"")+(p.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(_.value===!0?" q-field--error":"")+(_.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&F.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),D=w(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(_.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length>0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),p=w(()=>t.labelSlot===!0||t.label!==void 0),k=w(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&_.value!==!0?` text-${t.labelColor}`:"")),b=w(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:B.value,modelValue:t.modelValue,emitValue:e.emitValue})),d=w(()=>{const s={for:e.targetUid.value};return t.disable===!0?s["aria-disabled"]="true":t.readonly===!0&&(s["aria-readonly"]="true"),s});j(()=>t.for,s=>{e.targetUid.value=Ne(s)});function a(){const s=document.activeElement;let y=e.targetRef!==void 0&&e.targetRef.value;y&&(s===null||s.id!==e.targetUid.value)&&(y.hasAttribute("tabindex")===!0||(y=y.querySelector("[tabindex]")),y&&y!==s&&y.focus({preventScroll:!0}))}function u(){Je(a)}function c(){al(a);const s=document.activeElement;s!==null&&e.rootRef.value.contains(s)&&s.blur()}function r(s){clearTimeout(m),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,o("focus",s))}function g(s,y){clearTimeout(m),m=setTimeout(()=>{document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1)||(e.focused.value===!0&&(e.focused.value=!1,o("blur",s)),y!==void 0&&y())})}function h(s){xt(s),i.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),o("update:modelValue",null),o("clear",t.modelValue),le(()=>{N(),i.platform.is.mobile!==!0&&(x.value=!1)})}function R(){const s=[];return n.prepend!==void 0&&s.push(M("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:be},n.prepend())),s.push(M("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},C())),_.value===!0&&t.noErrorIcon===!1&&s.push(Z("error",[M(Ye,{name:i.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?s.push(Z("inner-loading-append",n.loading!==void 0?n.loading():[M(Vt,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&s.push(Z("inner-clearable-append",[M(Ye,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||i.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:h})])),n.append!==void 0&&s.push(M("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:be},n.append())),e.getInnerAppend!==void 0&&s.push(Z("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&s.push(e.getControlChild()),s}function C(){const s=[];return t.prefix!==void 0&&t.prefix!==null&&s.push(M("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&s.push(e.getShadowControl()),e.getControl!==void 0?s.push(e.getControl()):n.rawControl!==void 0?s.push(n.rawControl()):n.control!==void 0&&s.push(M("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},n.control(b.value))),p.value===!0&&s.push(M("div",{class:k.value},se(n.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&s.push(M("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),s.concat(se(n.default))}function T(){let s,y;_.value===!0?S.value!==null?(s=[M("div",{role:"alert"},S.value)],y=`q--slot-error-${S.value}`):(s=se(n.error),y="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(s=[M("div",t.hint)],y=`q--slot-hint-${t.hint}`):(s=se(n.hint),y="q--slot-hint"));const K=t.counter===!0||n.counter!==void 0;if(t.hideBottomSpace===!0&&K===!1&&s===void 0)return;const Q=M("div",{key:y,class:"q-field__messages col"},s);return M("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:be},[t.hideBottomSpace===!0?Q:M(ze,{name:"q-transition--field-message"},()=>Q),K===!0?M("div",{class:"q-field__counter"},n.counter!==void 0?n.counter():e.computedCounter.value):null])}function Z(s,y){return y===null?null:M("div",{key:s,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},y)}let z=!1;return Qe(()=>{z=!0}),Tt(()=>{z===!0&&t.autofocus===!0&&f.focus()}),ke(()=>{Pt.value===!0&&t.for===void 0&&(e.targetUid.value=Ne()),t.autofocus===!0&&f.focus()}),ue(()=>{clearTimeout(m)}),Object.assign(f,{focus:u,blur:c}),function(){const y=e.getControl===void 0&&n.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...d.value}:d.value;return M("label",{ref:e.rootRef,class:[A.value,l.class],style:l.style,...y},[n.before!==void 0?M("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:be},n.before()):null,M("div",{class:"q-field__inner relative-position col self-stretch"},[M("div",{ref:e.controlRef,class:D.value,tabindex:-1,...e.controlEvents},R()),F.value===!0?T():null]),n.after!==void 0?M("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:be},n.after()):null])}}const st={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},Be={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},qt=Object.keys(Be);qt.forEach(e=>{Be[e].regex=new RegExp(Be[e].pattern)});const dl=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+qt.join("")+"])|(.)","g"),ut=/[.*+?^${}()|[\]\\]/g,U=String.fromCharCode(1),cl={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function fl(e,t,o,n){let l,f,i,m;const x=P(null),E=P(S());function _(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}j(()=>e.type+e.autogrow,B),j(()=>e.mask,a=>{if(a!==void 0)F(E.value,!0);else{const u=b(E.value);B(),e.modelValue!==u&&t("update:modelValue",u)}}),j(()=>e.fillMask+e.reverseFillMask,()=>{x.value===!0&&F(E.value,!0)}),j(()=>e.unmaskedValue,()=>{x.value===!0&&F(E.value)});function S(){if(B(),x.value===!0){const a=p(b(e.modelValue));return e.fillMask!==!1?d(a):a}return e.modelValue}function N(a){if(a<l.length)return l.slice(-a);let u="",c=l;const r=c.indexOf(U);if(r>-1){for(let g=a-c.length;g>0;g--)u+=U;c=c.slice(0,r)+u+c.slice(r)}return c}function B(){if(x.value=e.mask!==void 0&&e.mask.length>0&&_(),x.value===!1){m=void 0,l="",f="";return}const a=st[e.mask]===void 0?e.mask:st[e.mask],u=typeof e.fillMask=="string"&&e.fillMask.length>0?e.fillMask.slice(0,1):"_",c=u.replace(ut,"\\$&"),r=[],g=[],h=[];let R=e.reverseFillMask===!0,C="",T="";a.replace(dl,(y,K,Q,v,H)=>{if(v!==void 0){const O=Be[v];h.push(O),T=O.negate,R===!0&&(g.push("(?:"+T+"+)?("+O.pattern+"+)?(?:"+T+"+)?("+O.pattern+"+)?"),R=!1),g.push("(?:"+T+"+)?("+O.pattern+")?")}else if(Q!==void 0)C="\\"+(Q==="\\"?"":Q),h.push(Q),r.push("([^"+C+"]+)?"+C+"?");else{const O=K!==void 0?K:H;C=O==="\\"?"\\\\\\\\":O.replace(ut,"\\\\$&"),h.push(O),r.push("([^"+C+"]+)?"+C+"?")}});const Z=new RegExp("^"+r.join("")+"("+(C===""?".":"[^"+C+"]")+"+)?"+(C===""?"":"["+C+"]*")+"$"),z=g.length-1,s=g.map((y,K)=>K===0&&e.reverseFillMask===!0?new RegExp("^"+c+"*"+y):K===z?new RegExp("^"+y+"("+(T===""?".":T)+"+)?"+(e.reverseFillMask===!0?"$":c+"*")):new RegExp("^"+y));i=h,m=y=>{const K=Z.exec(e.reverseFillMask===!0?y:y.slice(0,h.length));K!==null&&(y=K.slice(1).join(""));const Q=[],v=s.length;for(let H=0,O=y;H<v;H++){const ie=s[H].exec(O);if(ie===null)break;O=O.slice(ie.shift().length),Q.push(...ie)}return Q.length>0?Q.join(""):y},l=h.map(y=>typeof y=="string"?y:U).join(""),f=l.split(U).join(u)}function F(a,u,c){const r=n.value,g=r.selectionEnd,h=r.value.length-g,R=b(a);u===!0&&B();const C=p(R),T=e.fillMask!==!1?d(C):C,Z=E.value!==T;r.value!==T&&(r.value=T),Z===!0&&(E.value=T),document.activeElement===r&&le(()=>{if(T===f){const s=e.reverseFillMask===!0?f.length:0;r.setSelectionRange(s,s,"forward");return}if(c==="insertFromPaste"&&e.reverseFillMask!==!0){const s=g-1;A.right(r,s,s);return}if(["deleteContentBackward","deleteContentForward"].indexOf(c)>-1){const s=e.reverseFillMask===!0?g===0?T.length>C.length?1:0:Math.max(0,T.length-(T===f?0:Math.min(C.length,h)+1))+1:g;r.setSelectionRange(s,s,"forward");return}if(e.reverseFillMask===!0)if(Z===!0){const s=Math.max(0,T.length-(T===f?0:Math.min(C.length,h+1)));s===1&&g===1?r.setSelectionRange(s,s,"forward"):A.rightReverse(r,s,s)}else{const s=T.length-h;r.setSelectionRange(s,s,"backward")}else if(Z===!0){const s=Math.max(0,l.indexOf(U),Math.min(C.length,g)-1);A.right(r,s,s)}else{const s=g-1;A.right(r,s,s)}});const z=e.unmaskedValue===!0?b(T):T;String(e.modelValue)!==z&&o(z,!0)}function L(a,u,c){const r=p(b(a.value));u=Math.max(0,l.indexOf(U),Math.min(r.length,u)),a.setSelectionRange(u,c,"forward")}const A={left(a,u,c,r){const g=l.slice(u-1).indexOf(U)===-1;let h=Math.max(0,u-1);for(;h>=0;h--)if(l[h]===U){u=h,g===!0&&u++;break}if(h<0&&l[u]!==void 0&&l[u]!==U)return A.right(a,0,0);u>=0&&a.setSelectionRange(u,r===!0?c:u,"backward")},right(a,u,c,r){const g=a.value.length;let h=Math.min(g,c+1);for(;h<=g;h++)if(l[h]===U){c=h;break}else l[h-1]===U&&(c=h);if(h>g&&l[c-1]!==void 0&&l[c-1]!==U)return A.left(a,g,g);a.setSelectionRange(r?u:c,c,"forward")},leftReverse(a,u,c,r){const g=N(a.value.length);let h=Math.max(0,u-1);for(;h>=0;h--)if(g[h-1]===U){u=h;break}else if(g[h]===U&&(u=h,h===0))break;if(h<0&&g[u]!==void 0&&g[u]!==U)return A.rightReverse(a,0,0);u>=0&&a.setSelectionRange(u,r===!0?c:u,"backward")},rightReverse(a,u,c,r){const g=a.value.length,h=N(g),R=h.slice(0,c+1).indexOf(U)===-1;let C=Math.min(g,c+1);for(;C<=g;C++)if(h[C-1]===U){c=C,c>0&&R===!0&&c--;break}if(C>g&&h[c-1]!==void 0&&h[c-1]!==U)return A.leftReverse(a,g,g);a.setSelectionRange(r===!0?u:c,c,"forward")}};function D(a){if(t("keydown",a),Lt(a)===!0)return;const u=n.value,c=u.selectionStart,r=u.selectionEnd;if(a.keyCode===37||a.keyCode===39){const g=A[(a.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];a.preventDefault(),g(u,c,r,a.shiftKey)}else a.keyCode===8&&e.reverseFillMask!==!0&&c===r?A.left(u,c,r,!0):a.keyCode===46&&e.reverseFillMask===!0&&c===r&&A.rightReverse(u,c,r,!0)}function p(a){if(a==null||a==="")return"";if(e.reverseFillMask===!0)return k(a);const u=i;let c=0,r="";for(let g=0;g<u.length;g++){const h=a[c],R=u[g];if(typeof R=="string")r+=R,h===R&&c++;else if(h!==void 0&&R.regex.test(h))r+=R.transform!==void 0?R.transform(h):h,c++;else return r}return r}function k(a){const u=i,c=l.indexOf(U);let r=a.length-1,g="";for(let h=u.length-1;h>=0&&r>-1;h--){const R=u[h];let C=a[r];if(typeof R=="string")g=R+g,C===R&&r--;else if(C!==void 0&&R.regex.test(C))do g=(R.transform!==void 0?R.transform(C):C)+g,r--,C=a[r];while(c===h&&C!==void 0&&R.regex.test(C));else return g}return g}function b(a){return typeof a!="string"||m===void 0?typeof a=="number"?m(""+a):a:m(a)}function d(a){return f.length-a.length<=0?a:e.reverseFillMask===!0&&a.length>0?f.slice(0,-a.length)+a:a+f.slice(a.length)}return{innerValue:E,hasMask:x,moveCursorForPaste:L,updateMaskValue:F,onMaskedKeydown:D}}const vl={name:String};function ml(e){return w(()=>e.name||e.for)}function hl(e,t){function o(){const n=e.modelValue;try{const l="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(n)===n&&("length"in n?Array.from(n):[n]).forEach(f=>{l.items.add(f)}),{files:l.files}}catch{return{files:void 0}}}return t===!0?w(()=>{if(e.type==="file")return o()}):w(o)}const gl=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,pl=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,bl=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,yl=/[a-z0-9_ -]$/i;function xl(e){return function(o){if(o.type==="compositionend"||o.type==="change"){if(o.target.qComposing!==!0)return;o.target.qComposing=!1,e(o)}else o.type==="compositionupdate"&&o.target.qComposing!==!0&&typeof o.data=="string"&&(re.is.firefox===!0?yl.test(o.data)===!1:gl.test(o.data)===!0||pl.test(o.data)===!0||bl.test(o.data)===!0)===!0&&(o.target.qComposing=!0)}}var ae=pe({name:"QInput",inheritAttrs:!1,props:{...rl,...cl,...vl,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...il,"paste","change","keydown","animationend"],setup(e,{emit:t,attrs:o}){const{proxy:n}=ee(),{$q:l}=n,f={};let i=NaN,m,x,E,_;const S=P(null),N=ml(e),{innerValue:B,hasMask:F,moveCursorForPaste:L,updateMaskValue:A,onMaskedKeydown:D}=fl(e,t,Z,S),p=hl(e,!0),k=w(()=>Ue(B.value)),b=xl(C),d=sl(),a=w(()=>e.type==="textarea"||e.autogrow===!0),u=w(()=>a.value===!0||["text","search","url","tel","password"].includes(e.type)),c=w(()=>{const v={...d.splitAttrs.listeners.value,onInput:C,onPaste:R,onChange:s,onBlur:y,onFocus:Ge};return v.onCompositionstart=v.onCompositionupdate=v.onCompositionend=b,F.value===!0&&(v.onKeydown=D),e.autogrow===!0&&(v.onAnimationend=T),v}),r=w(()=>{const v={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:N.value,...d.splitAttrs.attributes.value,id:d.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return a.value===!1&&(v.type=e.type),e.autogrow===!0&&(v.rows=1),v});j(()=>e.type,()=>{S.value&&(S.value.value=e.modelValue)}),j(()=>e.modelValue,v=>{if(F.value===!0){if(x===!0&&(x=!1,String(v)===i))return;A(v)}else B.value!==v&&(B.value=v,e.type==="number"&&f.hasOwnProperty("value")===!0&&(m===!0?m=!1:delete f.value));e.autogrow===!0&&le(z)}),j(()=>e.autogrow,v=>{v===!0?le(z):S.value!==null&&o.rows>0&&(S.value.style.height="auto")}),j(()=>e.dense,()=>{e.autogrow===!0&&le(z)});function g(){Je(()=>{const v=document.activeElement;S.value!==null&&S.value!==v&&(v===null||v.id!==d.targetUid.value)&&S.value.focus({preventScroll:!0})})}function h(){S.value!==null&&S.value.select()}function R(v){if(F.value===!0&&e.reverseFillMask!==!0){const H=v.target;L(H,H.selectionStart,H.selectionEnd)}t("paste",v)}function C(v){if(!v||!v.target)return;if(e.type==="file"){t("update:modelValue",v.target.files);return}const H=v.target.value;if(v.target.qComposing===!0){f.value=H;return}if(F.value===!0)A(H,!1,v.inputType);else if(Z(H),u.value===!0&&v.target===document.activeElement){const{selectionStart:O,selectionEnd:ie}=v.target;O!==void 0&&ie!==void 0&&le(()=>{v.target===document.activeElement&&H.indexOf(v.target.value)===0&&v.target.setSelectionRange(O,ie)})}e.autogrow===!0&&z()}function T(v){t("animationend",v),z()}function Z(v,H){_=()=>{e.type!=="number"&&f.hasOwnProperty("value")===!0&&delete f.value,e.modelValue!==v&&i!==v&&(i=v,H===!0&&(x=!0),t("update:modelValue",v),le(()=>{i===v&&(i=NaN)})),_=void 0},e.type==="number"&&(m=!0,f.value=v),e.debounce!==void 0?(clearTimeout(E),f.value=v,E=setTimeout(_,e.debounce)):_()}function z(){requestAnimationFrame(()=>{const v=S.value;if(v!==null){const H=v.parentNode.style,{overflow:O}=v.style;l.platform.is.firefox!==!0&&(v.style.overflow="hidden"),v.style.height="1px",H.marginBottom=v.scrollHeight-1+"px",v.style.height=v.scrollHeight+"px",v.style.overflow=O,H.marginBottom=""}})}function s(v){b(v),clearTimeout(E),_!==void 0&&_(),t("change",v.target.value)}function y(v){v!==void 0&&Ge(v),clearTimeout(E),_!==void 0&&_(),m=!1,x=!1,delete f.value,e.type!=="file"&&setTimeout(()=>{S.value!==null&&(S.value.value=B.value!==void 0?B.value:"")})}function K(){return f.hasOwnProperty("value")===!0?f.value:B.value!==void 0?B.value:""}ue(()=>{y()}),ke(()=>{e.autogrow===!0&&z()}),Object.assign(d,{innerValue:B,fieldClass:w(()=>`q-${a.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:w(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length>0),inputRef:S,emitValue:Z,hasValue:k,floatingLabel:w(()=>k.value===!0||Ue(e.displayValue)),getControl:()=>M(a.value===!0?"textarea":"input",{ref:S,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...r.value,...c.value,...e.type!=="file"?{value:K()}:p.value}),getShadowControl:()=>M("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(a.value===!0?"":" text-no-wrap")},[M("span",{class:"invisible"},K()),M("span",e.shadowText)])});const Q=ul(d);return Object.assign(n,{focus:g,select:h,getNativeElement:()=>S.value}),Ke(n,"nativeEl",()=>S.value),Q}}),ne=pe({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const o=w(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>M(e.tag,{class:o.value},se(t.default))}});const wl={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},Le={xs:2,sm:4,md:8,lg:16,xl:24};var we=pe({name:"QSeparator",props:{...We,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=ee(),o=Ze(e,t.proxy.$q),n=w(()=>e.vertical===!0?"vertical":"horizontal"),l=w(()=>` q-separator--${n.value}`),f=w(()=>e.inset!==!1?`${l.value}-${wl[e.inset]}`:""),i=w(()=>`q-separator${l.value}${f.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(o.value===!0?" q-separator--dark":"")),m=w(()=>{const x={};if(e.size!==void 0&&(x[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const E=e.spaced===!0?`${Le.md}px`:e.spaced in Le?`${Le[e.spaced]}px`:e.spaced,_=e.vertical===!0?["Left","Right"]:["Top","Bottom"];x[`margin${_[0]}`]=x[`margin${_[1]}`]=E}return x});return()=>M("hr",{class:i.value,style:m.value,"aria-orientation":n.value})}}),$e=pe({name:"QCard",props:{...We,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:o}}=ee(),n=Ze(e,o),l=w(()=>"q-card"+(n.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>M(e.tag,{class:l.value},se(t.default))}});function _l(e,t,o){let n;function l(){n!==void 0&&(et.remove(n),n=void 0)}return ue(()=>{e.value===!0&&l()}),{removeFromHistory:l,addToHistory(){n={condition:()=>o.value===!0,handler:t},et.add(n)}}}function kl(){let e;const t=ee();function o(){clearTimeout(e)}return Qe(o),ue(o),{removeTimeout:o,registerTimeout(n,l){clearTimeout(e),yt(t)===!1&&(e=setTimeout(n,l))}}}function ql(){let e;const t=ee();function o(){e=void 0}return Qe(o),ue(o),{removeTick:o,registerTick(n){e=n,le(()=>{e===n&&(yt(t)===!1&&e(),e=void 0)})}}}const Cl={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},Sl=["beforeShow","show","beforeHide","hide"];function Vl({showing:e,canShow:t,hideOnRouteChange:o,handleShow:n,handleHide:l,processOnMount:f}){const i=ee(),{props:m,emit:x,proxy:E}=i;let _;function S(p){e.value===!0?F(p):N(p)}function N(p){if(m.disable===!0||p!==void 0&&p.qAnchorHandled===!0||t!==void 0&&t(p)!==!0)return;const k=m["onUpdate:modelValue"]!==void 0;k===!0&&(x("update:modelValue",!0),_=p,le(()=>{_===p&&(_=void 0)})),(m.modelValue===null||k===!1)&&B(p)}function B(p){e.value!==!0&&(e.value=!0,x("beforeShow",p),n!==void 0?n(p):x("show",p))}function F(p){if(m.disable===!0)return;const k=m["onUpdate:modelValue"]!==void 0;k===!0&&(x("update:modelValue",!1),_=p,le(()=>{_===p&&(_=void 0)})),(m.modelValue===null||k===!1)&&L(p)}function L(p){e.value!==!1&&(e.value=!1,x("beforeHide",p),l!==void 0?l(p):x("hide",p))}function A(p){m.disable===!0&&p===!0?m["onUpdate:modelValue"]!==void 0&&x("update:modelValue",!1):p===!0!==e.value&&(p===!0?B:L)(_)}j(()=>m.modelValue,A),o!==void 0&&Mt(i)===!0&&j(()=>E.$route.fullPath,()=>{o.value===!0&&e.value===!0&&F()}),f===!0&&ke(()=>{A(m.modelValue)});const D={show:N,hide:F,toggle:S};return Object.assign(E,D),D}const Ml={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function El(e,t=()=>{},o=()=>{}){return{transitionProps:w(()=>{const n=`q-transition--${e.transitionShow||t()}`,l=`q-transition--${e.transitionHide||o()}`;return{appear:!0,enterFromClass:`${n}-enter-from`,enterActiveClass:`${n}-enter-active`,enterToClass:`${n}-enter-to`,leaveFromClass:`${l}-leave-from`,leaveActiveClass:`${l}-leave-active`,leaveToClass:`${l}-leave-to`}}),transitionStyle:w(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}let $l=document.body;function Al(e){const t=document.createElement("div");if(e!==void 0&&(t.id=e),tt.globalNodes!==void 0){const o=tt.globalNodes.class;o!==void 0&&(t.className=o)}return $l.appendChild(t),t}function Bl(e){e.remove()}const Ae=[];function Rl(e){return Ae.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function Fl(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return Ee(e)}else if(e.__qPortal===!0){const o=Ee(e);return o!==void 0&&o.$options.name==="QPopupProxy"?(e.hide(t),o):e}e=Ee(e)}while(e!=null)}function Tl(e,t,o){for(;o!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(o--,e.$options.name==="QMenu"){e=Fl(e,t);continue}e.hide(t)}e=Ee(e)}}function Pl(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function Ll(e,t,o,n){const l=P(!1),f=P(!1);let i=null;const m={},x=n===!0&&Pl(e);function E(S){if(S===!0){it(m),f.value=!0;return}f.value=!1,l.value===!1&&(x===!1&&i===null&&(i=Al()),l.value=!0,Ae.push(e.proxy),nl(m))}function _(S){if(f.value=!1,S!==!0)return;it(m),l.value=!1;const N=Ae.indexOf(e.proxy);N!==-1&&Ae.splice(N,1),i!==null&&(Bl(i),i=null)}return Ot(()=>{_(!0)}),e.proxy.__qPortal=!0,Ke(e.proxy,"contentEl",()=>t.value),{showPortal:E,hidePortal:_,portalIsActive:l,portalIsAccessible:f,renderPortal:()=>x===!0?o():l.value===!0?[M(Dt,{to:i},o())]:void 0}}let ye=0,Oe,De,xe,He=!1,dt,ct,me;function Ol(e){Dl(e)&&xt(e)}function Dl(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=Ht(e),o=e.shiftKey&&!e.deltaX,n=!o&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),l=o||n?e.deltaY:e.deltaX;for(let f=0;f<t.length;f++){const i=t[f];if(Jt(i,n))return n?l<0&&i.scrollTop===0?!0:l>0&&i.scrollTop+i.clientHeight===i.scrollHeight:l<0&&i.scrollLeft===0?!0:l>0&&i.scrollLeft+i.clientWidth===i.scrollWidth}return!0}function ft(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function Ve(e){He!==!0&&(He=!0,requestAnimationFrame(()=>{He=!1;const{height:t}=e.target,{clientHeight:o,scrollTop:n}=document.scrollingElement;(xe===void 0||t!==window.innerHeight)&&(xe=o-t,document.scrollingElement.scrollTop=n),n>xe&&(document.scrollingElement.scrollTop-=Math.ceil((n-xe)/8))}))}function vt(e){const t=document.body,o=window.visualViewport!==void 0;if(e==="add"){const{overflowY:n,overflowX:l}=window.getComputedStyle(t);Oe=Wt(window),De=Zt(window),dt=t.style.left,ct=t.style.top,t.style.left=`-${Oe}px`,t.style.top=`-${De}px`,l!=="hidden"&&(l==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),n!=="hidden"&&(n==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,re.is.ios===!0&&(o===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",Ve,de.passiveCapture),window.visualViewport.addEventListener("scroll",Ve,de.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",ft,de.passiveCapture))}re.is.desktop===!0&&re.is.mac===!0&&window[`${e}EventListener`]("wheel",Ol,de.notPassive),e==="remove"&&(re.is.ios===!0&&(o===!0?(window.visualViewport.removeEventListener("resize",Ve,de.passiveCapture),window.visualViewport.removeEventListener("scroll",Ve,de.passiveCapture)):window.removeEventListener("scroll",ft,de.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=dt,t.style.top=ct,window.scrollTo(Oe,De),xe=void 0)}function Hl(e){let t="add";if(e===!0){if(ye++,me!==void 0){clearTimeout(me),me=void 0;return}if(ye>1)return}else{if(ye===0||(ye--,ye>0))return;if(t="remove",re.is.ios===!0&&re.is.nativeMobile===!0){clearTimeout(me),me=setTimeout(()=>{vt(t),me=void 0},100);return}}vt(t)}function zl(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,Hl(t))}}}const fe=[];let ge;function Il(e){ge=e.keyCode===27}function Nl(){ge===!0&&(ge=!1)}function Ul(e){ge===!0&&(ge=!1,wt(e,27)===!0&&fe[fe.length-1](e))}function Ct(e){window[e]("keydown",Il),window[e]("blur",Nl),window[e]("keyup",Ul),ge=!1}function jl(e){re.is.desktop===!0&&(fe.push(e),fe.length===1&&Ct("addEventListener"))}function mt(e){const t=fe.indexOf(e);t>-1&&(fe.splice(t,1),fe.length===0&&Ct("removeEventListener"))}const ve=[];function St(e){ve[ve.length-1](e)}function Kl(e){re.is.desktop===!0&&(ve.push(e),ve.length===1&&document.body.addEventListener("focusin",St))}function ht(e){const t=ve.indexOf(e);t>-1&&(ve.splice(t,1),ve.length===0&&document.body.removeEventListener("focusin",St))}let Me=0;const Ql={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},gt={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var pt=pe({name:"QDialog",inheritAttrs:!1,props:{...Cl,...Ml,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...Sl,"shake","click","escapeKey"],setup(e,{slots:t,emit:o,attrs:n}){const l=ee(),f=P(null),i=P(!1),m=P(!1);let x,E=null,_,S;const N=w(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:B}=zl(),{registerTimeout:F}=kl(),{registerTick:L,removeTick:A}=ql(),{transitionProps:D,transitionStyle:p}=El(e,()=>gt[e.position][0],()=>gt[e.position][1]),{showPortal:k,hidePortal:b,portalIsAccessible:d,renderPortal:a}=Ll(l,f,ie,!0),{hide:u}=Vl({showing:i,hideOnRouteChange:N,handleShow:T,handleHide:Z,processOnMount:!0}),{addToHistory:c,removeFromHistory:r}=_l(i,u,N),g=w(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Ql[e.position]}`+(m.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),h=w(()=>i.value===!0&&e.seamless!==!0),R=w(()=>e.autoClose===!0?{onClick:v}:{}),C=w(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${h.value===!0?"modal":"seamless"}`,n.class]);j(()=>e.maximized,$=>{i.value===!0&&Q($)}),j(h,$=>{B($),$===!0?(Kl(O),jl(y)):(ht(O),mt(y))});function T($){c(),E=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,Q(e.maximized),k(),m.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),L(z)):A(),F(()=>{if(l.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:J,bottom:Re}=document.activeElement.getBoundingClientRect(),{innerHeight:Xe}=window,Fe=window.visualViewport!==void 0?window.visualViewport.height:Xe;J>0&&Re>Fe/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-Fe,Re>=Xe?1/0:Math.ceil(document.scrollingElement.scrollTop+Re-Fe/2))),document.activeElement.scrollIntoView()}S=!0,f.value.click(),S=!1}k(!0),m.value=!1,o("show",$)},e.transitionDuration)}function Z($){A(),r(),K(!0),m.value=!0,b(),E!==null&&((($&&$.type.indexOf("key")===0?E.closest('[tabindex]:not([tabindex^="-"])'):void 0)||E).focus(),E=null),F(()=>{b(!0),m.value=!1,o("hide",$)},e.transitionDuration)}function z($){Je(()=>{let J=f.value;J===null||J.contains(document.activeElement)===!0||(J=($!==""?J.querySelector($):null)||J.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||J.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||J.querySelector("[autofocus], [data-autofocus]")||J,J.focus({preventScroll:!0}))})}function s($){$&&typeof $.focus=="function"?$.focus({preventScroll:!0}):z(),o("shake");const J=f.value;J!==null&&(J.classList.remove("q-animate--scale"),J.classList.add("q-animate--scale"),clearTimeout(x),x=setTimeout(()=>{f.value!==null&&(J.classList.remove("q-animate--scale"),z())},170))}function y(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&s():(o("escapeKey"),u()))}function K($){clearTimeout(x),($===!0||i.value===!0)&&(Q(!1),e.seamless!==!0&&(B(!1),ht(O),mt(y))),$!==!0&&(E=null)}function Q($){$===!0?_!==!0&&(Me<1&&document.body.classList.add("q-body--dialog"),Me++,_=!0):_===!0&&(Me<2&&document.body.classList.remove("q-body--dialog"),Me--,_=!1)}function v($){S!==!0&&(u($),o("click",$))}function H($){e.persistent!==!0&&e.noBackdropDismiss!==!0?u($):e.noShake!==!0&&s($.relatedTarget)}function O($){e.allowFocusOutside!==!0&&d.value===!0&&Kt(f.value,$.target)!==!0&&z('[tabindex]:not([tabindex="-1"])')}Object.assign(l.proxy,{focus:z,shake:s,__updateRefocusTarget($){E=$||null}}),ue(K);function ie(){return M("div",{role:"dialog","aria-modal":h.value===!0?"true":"false",...n,class:C.value},[M(ze,{name:"q-transition--fade",appear:!0},()=>h.value===!0?M("div",{class:"q-dialog__backdrop fixed-full",style:p.value,"aria-hidden":"true",tabindex:-1,onFocusin:H}):null),M(ze,D.value,()=>i.value===!0?M("div",{ref:f,class:g.value,style:p.value,tabindex:-1,...R.value},se(t.default)):null)])}return a}});function bt(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var je=Qt({name:"close-popup",beforeMount(e,{value:t}){const o={depth:bt(t),handler(n){o.depth!==0&&setTimeout(()=>{const l=Rl(e);l!==void 0&&Tl(l,n,o.depth)})},handlerKey(n){wt(n,13)===!0&&o.handler(n)}};e.__qclosepopup=o,e.addEventListener("click",o.handler),e.addEventListener("keyup",o.handlerKey)},updated(e,{value:t,oldValue:o}){t!==o&&(e.__qclosepopup.depth=bt(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}}),Wl=pe({name:"QCardActions",props:{...Et,vertical:Boolean},setup(e,{slots:t}){const o=$t(e),n=w(()=>`q-card__actions ${o.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>M("div",{class:n.value},se(t.default))}});const Zl={class:"row items-center no-wrap"},Jl={class:"col q-pa-md"},Xl={class:"row items-center no-wrap"},Yl={class:"col q-pa-md"},Gl={class:"col q-pa-md"},eo={class:"row items-center no-wrap"},to={class:"col q-pa-md"},lo={class:"col q-pa-md"},oo=_t({__name:"WorkerComponent",props:{worker:{type:Object,required:!0}},emits:["update","delete","cancel"],setup(e,{emit:t}){const o=e,n=P({});l();function l(){n.value=JSON.parse(JSON.stringify(o.worker))}return(f,i)=>(X(),zt($e,null,{default:I(()=>[q(ne,{class:"text-center"},{default:I(()=>[q(te,{icon:"las la-trash",onClick:i[0]||(i[0]=m=>f.$emit("delete")),color:"white","text-color":"red",flat:""},{default:I(()=>[he("\xA0\xA0Delete Worker")]),_:1})]),_:1}),q(we),q(ne,null,{default:I(()=>[V("div",Zl,[V("div",Jl,[q(ae,{modelValue:n.value.name,"onUpdate:modelValue":i[1]||(i[1]=m=>n.value.name=m),label:"Name"},null,8,["modelValue"])])]),V("div",Xl,[V("div",Yl,[q(ae,{modelValue:n.value.split,"onUpdate:modelValue":i[2]||(i[2]=m=>n.value.split=m),modelModifiers:{number:!0},label:"Job Split %",min:"0",max:"100",type:"number",class:"q-mb-sm"},null,8,["modelValue"])]),V("div",Gl,[q(ae,{modelValue:n.value.flat,"onUpdate:modelValue":i[3]||(i[3]=m=>n.value.flat=m),modelModifiers:{number:!0},min:"0",label:"Bonus",type:"number",class:"q-mb-sm"},null,8,["modelValue"])])]),V("div",eo,[V("div",to,[q(ae,{modelValue:n.value.hours,"onUpdate:modelValue":i[4]||(i[4]=m=>n.value.hours=m),modelModifiers:{number:!0},label:"Hours",min:"0",type:"number",class:"q-mb-sm"},null,8,["modelValue"])]),V("div",lo,[q(ae,{modelValue:n.value.value,"onUpdate:modelValue":i[5]||(i[5]=m=>n.value.value=m),modelModifiers:{number:!0},label:"Value",type:"number",class:"q-mb-sm"},null,8,["modelValue"])])])]),_:1}),q(we),q(ne,null,{default:I(()=>[q(Wl,{align:"around",class:"text-h6"},{default:I(()=>[Ie(q(te,{flat:"",icon:"las la-times",class:"float-left",onClick:i[6]||(i[6]=m=>{f.$emit("cancel")})},null,512),[[je]]),Ie(q(te,{flat:"",icon:"las la-check",class:"float-right",onClick:i[7]||(i[7]=m=>f.$emit("update",n.value))},null,512),[[je]])]),_:1})]),_:1})]),_:1}))}}),no={class:"q-ma-md q-mb-xl q-pb-xl"},ao={class:"row items-center q-mb-sm"},ro={class:"col",style:{"min-width":"150px"}},io={class:"text-h6 vertical-middle row"},so=V("div",{class:"col"},null,-1),uo=V("div",{class:"col text-center"},[V("i",{class:"fas fa-feather"}),he("\xA0Split"),V("strong",null,"Pay")],-1),co={class:"col"},fo={class:"fit row justify-center text-subtitle2"},vo=V("div",{class:"col-grow"},"Job Name",-1),mo={class:"col-grow text-right"},ho={class:"fit row justify-center text-subtitle2"},go=V("div",{class:"col-grow"},"Job Total",-1),po={class:"col-grow text-right"},bo={class:"fit row justify-center text-subtitle2"},yo=V("div",{class:"col-grow"},"Expense",-1),xo={class:"col-grow text-right"},wo={class:"column items-center"},_o={class:"row q-pa-sm no-wrap"},ko={class:"col text-left text-h6"},qo={class:"col text-center text-h6"},Co={key:0},So={class:"col text-right"},Vo={class:"row q-pa-sm no-wrap items-center"},Mo={class:"col text-left text-subtitle2"},Eo={key:0},$o={key:1},Ao={key:2},Bo={key:3},Ro={key:4},Fo={class:"col text-center text-subtitle2"},To={key:0},Po={class:"col text-right text-subtitle2"},Lo={key:0},Oo={class:"col q-my-sm text-h6 text-center",style:{"max-width":"150px"}},Do={key:0,class:"row items-center fit q-mb-md"},Ho={class:"col text-subtitle2 text-center negative"},zo={class:"row items-center fit"},Io={class:"col text-h6 text-center"},Qo=_t({__name:"IndexPage",setup(e){const t=Ut(),o=jt(),n={name:"",pot:0,expense_number:0,expense_percent:0,workers:[]},l=P(n),f=P(!1),i=P(""),m=P(0),x=P(null);function E(){setTimeout(()=>{x.value.$el.scrollIntoView({behavior:"auto",block:"end"})},100)}ke(()=>{typeof t.query.d=="string"&&t.query.d?l.value=JSON.parse(atob(t.query.d)):localStorage.data&&(l.value=JSON.parse(localStorage.data)),L()});function _(){l.value=n,i.value=""}function S(){l.value.workers.forEach(k=>{k.hours=0}),L()}function N(){let k=[];l.value.workers.forEach(d=>{k.push({name:d.name,split:d.split,value:d.value,hours:d.hours,flat:d.flat})});let b={name:l.value.name,pot:l.value.pot,expense_number:l.value.expense_number,expense_percent:l.value.expense_percent,workers:k};localStorage.data=JSON.stringify(b),o.push({query:{d:btoa(JSON.stringify(b))}})}function B(){let k="";l.value.name?k=l.value.name+" - SplitPay":k="SplitPay",navigator.canShare({title:k,text:k,url:"https://splitpay.pro"+t.fullPath})&&navigator.share({title:k,text:k,url:"https://splitpay.pro"+t.fullPath})}function F(k,b){Object.assign(b,k),b.edit=!1,L()}function L(){l.value.name=l.value.name.trim();let k=0,b=0,d=l.value.pot-l.value.pot*(l.value.expense_percent/100)-l.value.expense_number,a=0;l.value.workers.forEach(r=>{r.pay=0,r.hours||(r.hours=0),r.value||(r.value=0),r.flat||(r.flat=0),r.pay+=r.flat,b+=r.flat}),d-=b,l.value.workers.forEach(r=>{r.split||(r.split=0),r.pay+=d*(r.split/100),k+=r.split/100,a+=r.value/100*r.hours});let u=d*k+b;if(d-=d*k,d<0){l.value.workers.forEach(r=>{r.pay=0}),i.value="Cuts exceed total job value by: $"+p(d*-1,2);return}let c=0;l.value.workers.forEach(r=>{a>0&&(r.pay+=r.value/100*r.hours/a*d),c+=r.pay}),l.value.workers.forEach(r=>{r.pay>0?r.totalSplit=r.pay/c*100:r.totalSplit=0,r.hours>0?r.adjustedHourlyRate=r.pay/r.hours:r.adjustedHourlyRate=0}),l.value.workers.sort((r,g)=>g.pay-r.pay),i.value="",m.value=Math.round((d+u-c)*100)/100,m.value!=0&&(i.value="Leftover funds $"+p(m.value,2)),N()}function A(){E(),l.value.workers.push({name:"Worker"+(l.value.workers.length+1),split:0,value:0,hours:0,flat:0,pay:0,edit:!0})}function D(k){E(),l.value.workers.length>1?l.value.workers.splice(k,1):l.value.workers[0]={name:"Worker"+l.value.workers.length,split:0,value:0,hours:0,flat:0,pay:0,edit:!1},L()}function p(k,b){return(k/1).toFixed(b).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}return(k,b)=>(X(),Y("div",no,[V("div",ao,[V("div",ro,[V("div",io,[so,uo,V("div",co,[q(te,{flat:"",icon:"las la-edit",onClick:b[0]||(b[0]=d=>f.value=!0),class:"float-right q-ma-none q-pa-none"})])])])]),V("div",fo,[vo,V("div",mo,G(l.value.name),1)]),V("div",ho,[go,V("div",po,"$"+G(p(l.value.pot,2)),1)]),V("div",bo,[yo,V("div",xo," $"+G(p(l.value.pot*(l.value.expense_percent/100)+l.value.expense_number,2)),1)]),q(pt,{modelValue:f.value,"onUpdate:modelValue":b[5]||(b[5]=d=>f.value=d),persistent:""},{default:I(()=>[q($e,null,{default:I(()=>[q(ne,{class:"q-pt-none"},{default:I(()=>[q(ae,{modelValue:l.value.name,"onUpdate:modelValue":b[1]||(b[1]=d=>l.value.name=d),modelModifiers:{number:!0},label:"Job name",class:"q-pa-md q-ma-none text-h6",type:"text",onChange:L},null,8,["modelValue"]),q(ae,{modelValue:l.value.pot,"onUpdate:modelValue":b[2]||(b[2]=d=>l.value.pot=d),modelModifiers:{number:!0},label:"Job total",min:"0",class:"q-pa-md q-ma-none text-h6",type:"number",onChange:L},null,8,["modelValue"]),q(ae,{modelValue:l.value.expense_percent,"onUpdate:modelValue":b[3]||(b[3]=d=>l.value.expense_percent=d),modelModifiers:{number:!0},label:"Expense %",min:"0",max:"100",class:"q-pa-md q-ma-none text-h6",type:"number",onChange:L},null,8,["modelValue"]),q(ae,{modelValue:l.value.expense_number,"onUpdate:modelValue":b[4]||(b[4]=d=>l.value.expense_number=d),modelModifiers:{number:!0},label:"Expense #",min:"0",class:"q-pa-md q-ma-none text-h6",type:"number",onChange:L},null,8,["modelValue"])]),_:1}),q(we),q(ne,{class:"text-center"},{default:I(()=>[Ie(q(te,{flat:"",icon:"las la-check"},null,512),[[je]])]),_:1}),q(we),q(ne,{class:"text-center"},{default:I(()=>[q(te,{icon:"las la-trash",onClick:S,color:"white","text-color":"red",flat:""},{default:I(()=>[he("\xA0\xA0Clear hours")]),_:1})]),_:1}),q(we),q(ne,{class:"text-center"},{default:I(()=>[q(te,{icon:"las la-trash",onClick:_,color:"white","text-color":"red",flat:""},{default:I(()=>[he("\xA0\xA0Clear all and Start New")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),V("div",wo,[(X(!0),Y(It,null,Nt(l.value.workers,(d,a)=>(X(),Y("div",{class:"col q-mt-md fit",key:d},[q($e,{class:""},{default:I(()=>[q(ne,null,{default:I(()=>[V("div",_o,[V("div",ko,G(d.name),1),V("div",qo,[d.pay>0?(X(),Y("span",Co," $"+G(p(d.pay,2)),1)):oe("",!0)]),V("div",So,[q(te,{flat:"",icon:"las la-edit",onClick:u=>d.edit=!0,class:"float-right q-pa-none q-ma-none"},null,8,["onClick"])])]),V("div",Vo,[V("div",Mo,[d.flat>0?(X(),Y("span",Eo,"$"+G(d.flat),1)):oe("",!0),d.flat>0&&(d.split>0||d.hours>0)?(X(),Y("span",$o," + ")):oe("",!0),d.split>0?(X(),Y("span",Ao,G(d.split)+"%",1)):oe("",!0),d.split>0&&d.hours>0?(X(),Y("span",Bo," + ")):oe("",!0),d.hours>0?(X(),Y("span",Ro,G(p(d.hours,1))+"h@"+G(d.value),1)):oe("",!0)]),V("div",Fo,[d.totalSplit>0?(X(),Y("span",To,G(p(d.totalSplit,2))+"% ",1)):oe("",!0)]),V("div",Po,[d.adjustedHourlyRate>0?(X(),Y("span",Lo," $"+G(p(d.adjustedHourlyRate,2))+"/h ",1)):oe("",!0)])])]),_:2},1024)]),_:2},1024),q(pt,{modelValue:d.edit,"onUpdate:modelValue":u=>d.edit=u,persistent:""},{default:I(()=>[q(oo,{worker:d,onCancel:u=>{d.edit=!1},onUpdate:u=>F(u,d),onDelete:u=>D(a)},null,8,["worker","onCancel","onUpdate","onDelete"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]))),128)),V("div",Oo,[q(te,{flat:"",onClick:b[6]||(b[6]=d=>A()),icon:"las la-plus-circle",size:"xl",ref_key:"addWorkerBtn",ref:x},null,512)])]),i.value?(X(),Y("div",Do,[V("div",Ho,[q($e,null,{default:I(()=>[q(ne,{class:"q-pa-sm bg-negative text-white"},{default:I(()=>[he(G(i.value),1)]),_:1})]),_:1})])])):oe("",!0),V("div",zo,[V("div",Io,[q(te,{icon:"las la-save",onClick:b[7]||(b[7]=d=>B()),color:"black"},{default:I(()=>[he("\xA0\xA0Save")]),_:1})])])]))}});export{Qo as default};
